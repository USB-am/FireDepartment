#:import FDToolbar ui.widgets.toolbar

<BaseScreen>:
	canvas:
		Color:
			rgba: root.color
		Rectangle:
			pos: root.pos
			size: root.size
			source: root.bg_image

	MDNavigationLayout:
		ScreenManager:
			Screen:
				MDBoxLayout:
					orientation: 'vertical'
					size_hint: 1, 1

					FDToolbar:
						id: toolbar
						title: root.toolbar_title

					ScrollView:
						size_hint: 1, 1

						GridLayout:
							id: content
							cols: 1
							size_hint: 1, None
							height: self.minimum_height
							do_scroll_x: False
							padding: dp(10), dp(20)

					MDRelativeLayout:
						id: fixed_layout
						size_hint: 1, None
						height: dp(50)
						# md_bg_color: (0, 0, 0, 1)
						padding: dp(10), 0


		MDNavigationDrawer:
			id: menu

			MDBoxLayout:
				orientation: 'vertical'
				size_hint: 1, 1

				AnchorLayout:
					anchor_x: 'left'
					size_hint_y: None
					height: logo.height

					Image:
						id: logo
						size_hint: None, None
						size: dp(100), dp(100)
						source: 'static/logo.png'

				MDLabel:
					text: 'Fire Department'
					font_style: 'Button'
					font_size: sp(30)
					size_hint_y: None
					height: self.texture_size[1]

				MDBoxLayout:
					orientation: 'vertical'

					NavigationButton:
						size_hint: 1, None
						icon: 'home'
						text: 'Главная'
						on_release:
							root.path_manager.move_to_screen('main')
							menu.set_state('close')

					NavigationButton:
						size_hint: 1, None
						icon: 'pound'
						text: 'Теги'

					NavigationButton:
						size_hint: 1, None
						icon: 'chevron-triple-up'
						text: 'Звания'

					NavigationButton:
						size_hint: 1, None
						icon: 'crosshairs-gps'
						text: 'Должности'

					NavigationButton:
						size_hint: 1, None
						icon: 'account-group'
						text: 'Люди'

					NavigationButton:
						size_hint: 1, None
						icon: 'fire-alert'
						text: 'Вызовы'
						on_release:
							root.path_manager.move_to_screen('emergency_list')
							menu.set_state('close')

					NavigationButton:
						size_hint: 1, None
						icon: 'timer-sand'
						text: 'Графики работы'

					NavigationButton:
						size_hint: 1, None
						icon: 'firebase'
						text: 'Информация о вызовах'

					MDBoxLayout:	# Separator layout

				MDBoxLayout:
					orientation: 'horizontal'
					size_hint_y: None
					height: dp(60)

					NavigationButton:
						size_hint: 1, None
						icon: 'cog'
						text: 'Настройки'
						on_release:
							root.path_manager.move_to_screen('options')
							menu.set_state('close')