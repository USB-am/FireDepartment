#:import os_join os.path.join
#:import Config config
#:import FDLabel,FDTitleLabel,FDButton UI.custom_widgets

<Settings>
	BoxLayout:
		orientation: 'vertical'
		spacing: 10

		BoxLayout:
			canvas:
				Color:
					rgba: Config.BACKGROUND_COLOR_OPACITY
				Rectangle:
					pos: self.pos
					size: self.size

			size_hint: (1, None)
			size: (self.width, 70)
			padding: 10

			FDButton:
				size_hint: (None, None)
				size: (50, 50)
				on_press: root.manager.current = 'main_page'

				Image:
					pos: self.parent.pos
					size: self.parent.size
					source: os_join(Config.IMAGES_DIR, 'back_button.png')
					allow_stretch: True

			FDTitleLabel:
				text: 'Настройки'

			FDLabel:
				size_hint: (None, None)
				size: (50, 50)

		ScrollView:
			GridLayout:
				cols: 1
				size_hint: (1, None)
				do_scroll_x: False
				height: self.minimum_height
				padding: 10
				spacing: 10
				id: settings_list


<TableSettings>
	canvas:
		Color:
			rgba: Config.BACKGROUND_COLOR_OPACITY
		Rectangle:
			pos: self.pos
			size: self.size

	size_hint: (1, None)
	size: (self.width, 50)
	padding: 10
	spacing: 10

	FDLabel:
		text_size: self.size
		halign: 'left'
		valign: 'middle'
		text: self.parent.view_text

	FDButton:
		size_hint: (None, None)
		size: (30, 30)
		on_press:
			app.root.current = self.parent.to_create_page
			app.root.get_screen(app.root.current).update_screen()

		Image:
			width: self.parent.width - 10
			height: self.parent.height - 10
			x: self.parent.x + 5
			y: self.parent.y + 5
			source: os_join(Config.IMAGES_DIR, 'add_button.png')
			allow_stretch: True

	FDButton:
		size_hint: (None, None)
		size: (30, 30)
		on_press:
			app.root.current = self.parent.to_list_edit


		Image:
			width: self.parent.width - 10
			height: self.parent.height - 10
			x: self.parent.x + 5
			y: self.parent.y + 5
			source: os_join(Config.IMAGES_DIR, 'edit_button.png')
			allow_stretch: True


<CustomColorInput>
	size_hint: (1, None)
	size: (self.width, 50)

	# text_size: self.size
	halign: 'left'
	valign: 'middle'
	text: self.title.title()

	Image:
		width: 30
		height: 30
		x: self.parent.x + self.parent.width - 50
		y: self.parent.y + 10
		source: os_join(Config.IMAGES_DIR, 'color_circle.png')


<CustomizationSettings>
	orientation: 'vertical'
	size_hint: (1, None)
	size: (self.width, 180)
	padding: 10
	spacing: 10